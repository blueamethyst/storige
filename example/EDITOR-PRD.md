# WowMall Editor PRD (Product Requirements Document)

> 버전: 1.0
> 작성일: 2025-12-02
> 작성자: 전산사업부
> 관련 문서: [EDITOR-ARCHITECTURE.md](./EDITOR-ARCHITECTURE.md), [2026-development-plan.md](./2026-development-plan.md)

---

## 1. 제품 개요 (Product Overview)

### 1.1 제품 비전

WowMall Editor는 **인쇄 특화 웹 기반 그래픽 디자인 에디터**입니다. 사용자가 명함, 전단지, 포스터 등 다양한 인쇄물을 직접 디자인하고, 인쇄 주문까지 원스톱으로 처리할 수 있는 플랫폼을 제공합니다.

### 1.2 제품 목표

| 목표 | 설명 |
|------|------|
| **사용성** | 비전문가도 쉽게 사용할 수 있는 직관적인 인터페이스 |
| **인쇄 품질** | CMYK 색상 관리, 고해상도 출력으로 인쇄 품질 보장 |
| **생산성** | 템플릿 활용, 빠른 편집 기능으로 디자인 시간 단축 |
| **확장성** | 다양한 인쇄 상품 및 사양 지원 |

### 1.3 타겟 사용자

| 사용자 유형 | 설명 | 주요 니즈 |
|------------|------|----------|
| **일반 소비자** | 개인 명함, 청첩장 등 제작 | 쉬운 사용성, 템플릿 |
| **소상공인** | 메뉴판, 전단지, 홍보물 제작 | 비용 효율, 빠른 제작 |
| **기업 담당자** | 대량 인쇄물, 브랜드 자료 제작 | 브랜드 일관성, 대량 처리 |
| **디자이너** | 고급 디자인 작업 | 전문 기능, 정밀 제어 |

---

## 2. 핵심 기능 요구사항 (Core Feature Requirements)

### 2.1 캔버스 편집 기능

#### 2.1.1 기본 편집 도구

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **객체 선택/이동** | 캔버스 내 객체 선택, 드래그 이동 | P0 | ✅ 완료 |
| **크기 조정** | 객체 크기 조정 (비율 유지/자유 변형) | P0 | ✅ 완료 |
| **회전** | 객체 회전 (각도 입력/핸들 드래그) | P0 | ✅ 완료 |
| **복사/붙여넣기** | 객체 복제 및 클립보드 연동 | P0 | ✅ 완료 |
| **삭제** | 선택 객체 삭제 | P0 | ✅ 완료 |
| **실행 취소/다시 실행** | Undo/Redo 기능 (최대 50단계) | P0 | ✅ 완료 |
| **정렬** | 객체 정렬 (좌/우/상/하/중앙) | P1 | ✅ 완료 |
| **레이어 순서** | 앞으로/뒤로 보내기 | P1 | ✅ 완료 |
| **그룹화** | 다중 객체 그룹화/해제 | P1 | ✅ 완료 |

#### 2.1.2 줌 및 뷰 제어

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **줌 인/아웃** | 마우스 휠, 버튼으로 확대/축소 | P0 | ✅ 완료 |
| **줌 레벨 표시** | 현재 줌 비율 표시 | P1 | ✅ 완료 |
| **화면에 맞추기** | 캔버스를 뷰포트에 맞춤 | P1 | ✅ 완료 |
| **실제 크기 보기** | 100% 줌으로 실제 인쇄 크기 확인 | P2 | ✅ 완료 |

#### 2.1.3 가이드 및 눈금자

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **눈금자** | 상단/좌측 눈금자 표시 (mm/px) | P1 | ✅ 완료 |
| **안전 영역 표시** | 인쇄 안전 영역 가이드 | P0 | ✅ 완료 |
| **재단선 표시** | 재단선(칼선) 가이드 | P0 | ✅ 완료 |
| **스냅 기능** | 객체 정렬 시 스냅 | P1 | ✅ 완료 |

---

### 2.2 텍스트 기능

#### 2.2.1 기본 텍스트 편집

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **텍스트 추가** | 텍스트 박스 생성 | P0 | ✅ 완료 |
| **인라인 편집** | 캔버스에서 직접 텍스트 편집 | P0 | ✅ 완료 |
| **폰트 선택** | 웹 폰트 라이브러리 연동 | P0 | ✅ 완료 |
| **폰트 크기** | 폰트 크기 조정 (pt/px) | P0 | ✅ 완료 |
| **폰트 스타일** | 굵게, 밑줄 | P0 | ✅ 완료 |
| **텍스트 색상** | 텍스트 색상 선택 | P0 | ✅ 완료 |
| **텍스트 정렬** | 좌/중앙/우 정렬 | P0 | ✅ 완료 |
| **줄 간격** | Line height 조정 | P1 | ✅ 완료 |
| **자간** | Letter spacing 조정 | P1 | ✅ 완료 |
| **혼합 스타일** | 부분 텍스트에 다른 스타일 적용 | P1 | ✅ 완료 |

#### 2.2.2 텍스트 특수효과

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **금박 효과 (Gold)** | 황금빛 패턴 효과 | P0 | ✅ 완료 |
| **엠보싱 효과 (Emboss)** | 양각 효과 | P0 | ✅ 완료 |
| **커팅 효과 (Cutting)** | 민트 그린 하이라이트 | P0 | ✅ 완료 |
| **그림자 효과** | Drop shadow 효과 | P1 | ✅ 완료 |
| **외곽선 효과 (Stroke)** | 텍스트 테두리 | P1 | 📋 예정 |
| **곡선 텍스트** | 곡선 경로를 따라 텍스트 배치 | P1 | ✅ 완료 |

#### 2.2.3 텍스트 고급 기능

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **텍스트 벡터화** | 텍스트를 벡터 경로로 변환 | P1 | ✅ 완료 |
| **한글 폰트 정규화** | NFD/NFC 유니코드 호환 | P0 | ✅ 완료 |
| **폰트 미리보기** | 폰트 선택 시 미리보기 표시 | P2 | ✅ 완료 |

---

### 2.3 이미지 기능

#### 2.3.1 이미지 삽입 및 편집

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **이미지 업로드** | 로컬 이미지 업로드 | P0 | ✅ 완료 |
| **드래그 앤 드롭** | 파일 드래그로 이미지 삽입 | P0 | ✅ 완료 |
| **이미지 크기 조정** | 비율 유지/자유 크기 조정 | P0 | ✅ 완료 |
| **이미지 자르기 (Crop)** | 이미지 영역 자르기 | P1 | ✅ 완료 |
| **이미지 회전** | 90도 단위 및 자유 회전 | P0 | ✅ 완료 |
| **이미지 뒤집기** | 수평/수직 뒤집기 | P1 | ✅ 완료 |

#### 2.3.2 이미지 필터

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **흑백 (BlackWhite)** | 흑백 변환 | P1 | ✅ 완료 |
| **세피아 (Sepia)** | 세피아 톤 | P1 | ✅ 완료 |
| **빈티지 (Vintage)** | 빈티지 효과 | P1 | ✅ 완료 |
| **폴라로이드 (Polaroid)** | 폴라로이드 효과 | P1 | ✅ 완료 |
| **색상 반전 (Invert)** | 색상 반전 | P1 | ✅ 완료 |
| **브라운 톤 (Brownie)** | 브라운 톤 효과 | P2 | ✅ 완료 |
| **코다크롬 (Kodachrome)** | 코다크롬 효과 | P2 | ✅ 완료 |
| **테크니컬러 (Technicolor)** | 테크니컬러 효과 | P2 | ✅ 완료 |

#### 2.3.3 이미지 고급 처리

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **배경 제거** | AI 기반 배경 자동 제거 | P1 | ✅ 완료 |
| **자동 칼선 생성** | 이미지 외곽선 자동 추출 | P1 | ✅ 완료 |
| **오프셋/인셋** | 칼선 내부/외부 오프셋 | P1 | ✅ 완료 |
| **벡터화** | 이미지를 벡터로 변환 | P2 | ✅ 완료 |
| **블렌딩 모드** | Multiply, Screen, Overlay 등 | P2 | 📋 예정 |

---

### 2.4 도형 및 그래픽 요소

#### 2.4.1 기본 도형

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **사각형** | 직사각형, 정사각형, 둥근 모서리 | P0 | ✅ 완료 |
| **원/타원** | 원형, 타원형 | P0 | ✅ 완료 |
| **선** | 직선, 화살표 | P1 | ✅ 완료 |
| **다각형** | 삼각형, 오각형 등 | P2 | ✅ 완료 |

#### 2.4.2 도형 속성

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **채우기 색상** | 단색 채우기 | P0 | ✅ 완료 |
| **테두리 색상** | 테두리 색상 설정 | P0 | ✅ 완료 |
| **테두리 두께** | 테두리 굵기 조정 | P0 | ✅ 완료 |
| **투명도** | 객체 투명도 조정 | P1 | ✅ 완료 |
| **그라데이션** | 그라데이션 채우기 | P2 | 📋 예정 |

#### 2.4.3 스마트 코드

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **QR 코드** | QR 코드 생성 및 삽입 | P0 | ✅ 완료 |
| **바코드** | 바코드 생성 (CODE128, EAN 등) | P1 | ✅ 완료 |
| **동적 데이터 연동** | 가변 데이터 연결 | P2 | 📋 예정 |

---

### 2.5 색상 관리 (Color Management)

#### 2.5.1 색상 모드

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **RGB 모드** | 화면 디자인용 RGB 색상 | P0 | ✅ 완료 |
| **CMYK 모드** | 인쇄용 CMYK 색상 | P0 | ✅ 완료 |
| **RGB ↔ CMYK 변환** | 정확한 색상 변환 (Little CMS 2) | P0 | ✅ 완료 |

#### 2.5.2 색상 선택

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **컬러 피커** | 색상환/슬라이더로 색상 선택 | P0 | ✅ 완료 |
| **HEX 입력** | HEX 코드 직접 입력 | P0 | ✅ 완료 |
| **CMYK 입력** | CMYK 값 직접 입력 | P1 | ✅ 완료 |
| **스포이드** | 캔버스에서 색상 추출 | P1 | ✅ 완료 |
| **색상 팔레트** | 자주 사용하는 색상 저장 | P2 | 📋 예정 |

---

### 2.6 템플릿 기능

#### 2.6.1 템플릿 관리

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **템플릿 목록** | 카테고리별 템플릿 조회 | P0 | ✅ 완료 |
| **템플릿 미리보기** | 템플릿 썸네일 및 상세 미리보기 | P0 | ✅ 완료 |
| **템플릿 적용** | 템플릿을 캔버스에 로드 | P0 | ✅ 완료 |
| **템플릿 검색** | 키워드로 템플릿 검색 | P1 | 📋 예정 |
| **카테고리 필터** | 상품/스타일별 필터링 | P1 | 📋 예정 |

#### 2.6.2 템플릿 저장

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **작업 저장** | 현재 디자인 저장 | P0 | ✅ 완료 |
| **자동 저장** | 주기적 자동 저장 (5분 간격) | P1 | ✅ 완료 |
| **썸네일 자동 생성** | 저장 시 Canvas에서 PNG 썸네일 생성 | P0 | ✅ 완료 |
| **다중 페이지 저장** | 여러 페이지 디자인 일괄 저장 | P0 | ✅ 완료 |
| **버전 관리** | 저장 이력 관리 | P2 | 📋 예정 |
| **템플릿으로 저장** | 디자인을 템플릿으로 저장 (관리자) | P1 | ✅ 완료 |

#### 2.6.3 템플릿 저장 흐름

**일반 사용자 저장:**
```
저장 버튼 클릭 → 캔버스 데이터 직렬화 → 썸네일 생성 → S3 업로드 → GraphQL 저장
```

**관리자 템플릿 저장:**
```
편집완료 버튼 → 캔버스 데이터 직렬화 → 썸네일 생성 → S3 업로드
→ EditorDesign 저장 → 콘텐츠 타입별 업데이트 (Template/Image/Frame/Element/Background)
```

#### 2.6.4 템플릿 로드 흐름

| 단계 | 설명 |
|------|------|
| 1. 템플릿 선택 | 템플릿 목록에서 선택 |
| 2. URL 확인 | JSON/SVG 템플릿 URL 및 칼선 템플릿 URL 확인 |
| 3. 파일 다운로드 | S3에서 템플릿 파일 다운로드 |
| 4. 데이터 파싱 | JSON 파싱 또는 SVG 파싱 |
| 5. 캔버스 적용 | 객체 복원, 폰트/이미지 로딩, 렌더링 |

---

### 2.7 목업 기능 (Mockup)

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **목업 이미지 로드** | 제품별 목업 이미지 표시 | P1 | 📋 예정 |
| **디자인 오버레이** | 목업 위에 디자인 렌더링 | P1 | 📋 예정 |
| **목업 각도 변경** | 목업 뷰 각도 변경 시 디자인 변환 | P2 | 📋 예정 |
| **실시간 미리보기** | 디자인 변경 시 목업 자동 업데이트 | P1 | 📋 예정 |

---

### 2.8 칼선 (Die-cut) 기능

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **칼선 표시** | 재단선 가이드 표시 | P0 | ✅ 완료 |
| **칼선 템플릿 로드** | 제품별 칼선 데이터 로드 | P0 | ✅ 완료 |
| **칼선 일괄 업로드** | SVG/AI 칼선 파일 업로드 | P1 | 📋 예정 |
| **칼선 미리보기** | 업로드 전 칼선 검증 | P1 | 📋 예정 |
| **커스텀 칼선** | 사용자 정의 재단선 | P2 | 📋 예정 |

---

### 2.9 내보내기 (Export)

#### 2.9.1 파일 형식

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **PDF 내보내기** | 인쇄용 고해상도 PDF | P0 | ✅ 완료 |
| **PNG 내보내기** | PNG 이미지 내보내기 | P0 | ✅ 완료 |
| **JPG 내보내기** | JPG 이미지 내보내기 | P1 | ✅ 완료 |
| **SVG 내보내기** | 벡터 SVG 내보내기 | P2 | ✅ 완료 |

#### 2.9.2 내보내기 옵션

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **해상도 설정** | 72/150/300 DPI 선택 | P0 | ✅ 완료 |
| **색상 모드 선택** | RGB/CMYK 선택 | P0 | ✅ 완료 |
| **재단선 포함** | PDF에 재단선 포함 여부 | P1 | ✅ 완료 |
| **페이지별 내보내기** | 다중 페이지 개별 내보내기 | P1 | ✅ 완료 |

---

### 2.10 WowPress 연동

| 기능 | 설명 | 우선순위 | 상태 |
|------|------|---------|------|
| **상품 정보 조회** | WowPress 인쇄 상품 정보 로드 | P0 | ✅ 완료 |
| **사양별 설정** | 용지, 색상, 후가공 옵션 설정 | P0 | ✅ 완료 |
| **가격 조회** | 실시간 가격 계산 | P0 | ✅ 완료 |
| **주문 제출** | 디자인 파일 업로드 및 주문 | P0 | ✅ 완료 |
| **주문 상태 조회** | 주문 진행 상태 확인 | P1 | ✅ 완료 |

---

## 3. 비기능 요구사항 (Non-Functional Requirements)

### 3.1 성능

| 항목 | 목표 | 측정 방법 |
|------|------|----------|
| **초기 로딩 시간** | < 3초 | First Contentful Paint |
| **편집 반응 속도** | < 100ms | 객체 조작 응답 시간 |
| **저장 시간** | < 2초 | 디자인 저장 완료 시간 |
| **PDF 생성 시간** | < 10초 | PDF 내보내기 완료 시간 |
| **메모리 사용량** | < 512MB | 평균 세션 메모리 |

### 3.2 호환성

| 항목 | 지원 범위 |
|------|----------|
| **브라우저** | Chrome 90+, Firefox 88+, Safari 14+, Edge 90+ |
| **해상도** | 1280x720 이상 |
| **디바이스** | 데스크톱 (태블릿 부분 지원) |

### 3.3 보안

| 항목 | 요구사항 |
|------|----------|
| **인증** | JWT 토큰 기반 인증 |
| **데이터 전송** | HTTPS (TLS 1.2+) |
| **파일 업로드** | 파일 타입/크기 검증 |
| **XSS 방지** | 사용자 입력 이스케이프 |

### 3.4 접근성

| 항목 | 요구사항 |
|------|----------|
| **키보드 네비게이션** | 주요 기능 키보드 접근 |
| **단축키** | 일반적인 단축키 지원 (Ctrl+Z, Ctrl+C 등) |
| **대비 비율** | WCAG 2.1 AA 준수 |

---

## 4. 사용자 시나리오 (User Scenarios)

### 4.1 시나리오 1: 명함 디자인 및 주문

```
사용자: 소상공인
목표: 회사 명함 500장 주문

1. 에디터 접속 → 명함 상품 선택
2. 템플릿 목록에서 비즈니스 명함 템플릿 선택
3. 텍스트 수정 (이름, 직책, 연락처)
4. 회사 로고 이미지 업로드 및 배치
5. 색상 조정 (브랜드 색상 적용)
6. 미리보기로 확인
7. 용지/수량 선택 후 가격 확인
8. PDF 생성 및 주문 제출
```

### 4.2 시나리오 2: 전단지 디자인

```
사용자: 마케팅 담당자
목표: 이벤트 홍보 전단지 제작

1. A4 전단지 상품 선택
2. 빈 캔버스에서 새로 디자인 시작
3. 배경 이미지 삽입
4. 이벤트 제목 텍스트 추가 (금박 효과 적용)
5. 상세 내용 텍스트 배치
6. QR 코드 추가 (이벤트 페이지 링크)
7. 중간 저장
8. PDF 미리보기 후 수정
9. 최종 주문
```

### 4.3 시나리오 3: 스티커 디자인

```
사용자: 일반 소비자
목표: 커스텀 스티커 제작

1. 스티커 상품 선택
2. 배경 이미지 업로드
3. 배경 제거 기능 사용
4. 자동 칼선 생성
5. 칼선 오프셋 조정
6. 텍스트 추가 (곡선 텍스트 효과)
7. 미리보기 및 주문
```

---

## 5. 기술 사양 (Technical Specifications)

### 5.1 프론트엔드 스택

| 기술 | 용도 |
|------|------|
| **Vue 3** | UI 프레임워크 (Composition API) |
| **Pinia** | 상태 관리 |
| **Vue Router** | 라우팅 |
| **Naive UI** | UI 컴포넌트 라이브러리 |
| **Tailwind CSS** | 유틸리티 CSS |
| **Vite** | 빌드 도구 |

### 5.2 그래픽 엔진

| 기술 | 용도 |
|------|------|
| **Fabric.js** | 캔버스 조작 |
| **Paper.js** | 벡터 그래픽 연산 |
| **OpenCV.js** | 이미지 처리 |
| **jsPDF** | PDF 생성 |
| **opentype.js** | 폰트 처리 |

### 5.3 색상 관리

| 기술 | 용도 |
|------|------|
| **Little CMS 2** | 색상 변환 엔진 (WASM) |
| **ICC 프로파일** | 표준 색상 프로파일 지원 |

### 5.4 API 연동

| 기술 | 용도 |
|------|------|
| **Apollo Client** | GraphQL 클라이언트 |
| **REST API** | WowPress API 연동 |

---

## 6. 마일스톤 및 로드맵

### 6.1 Phase 1: 기반 완성 (완료)

- [x] 기본 캔버스 편집 기능
- [x] 텍스트/이미지 편집
- [x] 템플릿 시스템
- [x] PDF 내보내기
- [x] CMYK 색상 관리

### 6.2 Phase 2: 기능 고도화 (2026 Q2)

- [ ] 목업 연동 편집 기능
- [ ] 칼선 일괄 업로드 기능
- [ ] 텍스트 외곽선 효과
- [ ] 블렌딩 모드

### 6.3 Phase 3: 와우프레스 통합 (2026 Q3)

- [ ] 와우프레스 홈페이지 에디터 적용
- [ ] 템플릿 랜딩페이지
- [ ] 에디터 연동 워크플로우

### 6.4 Phase 4: 최적화 및 안정화 (2026 Q4)

- [ ] 성능 최적화
- [ ] Sentry 에러 모니터링
- [ ] @pf/canvas-core Vue 의존성 제거

---

## 7. 성공 지표 (Success Metrics)

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| **에디터 오류율** | < 0.1% | Sentry 에러 추적 |
| **평균 디자인 완성 시간** | < 10분 | 세션 분석 |
| **사용자 이탈률** | < 20% | 편집 시작 후 완료율 |
| **PDF 생성 성공률** | > 99% | API 성공률 |
| **사용자 만족도** | > 4.0/5.0 | 사용자 설문 |

---

## 8. 리스크 및 대응

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|----------|
| **브라우저 호환성 이슈** | 중간 | 주요 브라우저 테스트 자동화 |
| **대용량 이미지 성능 저하** | 높음 | 이미지 압축 및 지연 로딩 |
| **WASM 로딩 실패** | 높음 | 폴백 처리 및 에러 모니터링 |
| **폰트 로딩 지연** | 중간 | 폰트 프리로딩 및 캐싱 |
| **PDF 생성 실패** | 높음 | 재시도 로직 및 에러 알림 |

---

## 9. 관련 문서

- [EDITOR-ARCHITECTURE.md](./EDITOR-ARCHITECTURE.md) - 에디터 아키텍처 상세
- [WOWPRESS-API-INTERFACE.md](./WOWPRESS-API-INTERFACE.md) - WowPress API 인터페이스
- [2026-development-plan.md](./2026-development-plan.md) - 2026년 개발 계획
- [FRONTEND-ARCHITECTURE.md](./FRONTEND-ARCHITECTURE.md) - 프론트엔드 아키텍처

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2025-12-02 | 초안 작성 | 전산사업부 |
