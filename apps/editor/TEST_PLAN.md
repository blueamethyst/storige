# Storige 에디터 E2E 테스트 플랜

## Application Overview

Storige 에디터는 React + Fabric.js 기반의 인쇄물 편집 시스템입니다. 사용자는 캔버스에서 텍스트, 이미지, 도형 등의 객체를 추가하고 편집하여 인쇄용 디자인을 생성할 수 있습니다. 이 테스트 플랜은 에디터의 핵심 기능들에 대한 포괄적인 E2E 테스트 시나리오를 정의합니다.

주요 기술 스택:
- React 18 + TypeScript
- Fabric.js 5.5 (캔버스 엔진)
- Zustand (상태 관리)
- TailwindCSS (스타일링)
- Vite (빌드 도구)
- Playwright (E2E 테스팅)

아키텍처:
- 플러그인 기반 에디터 시스템 (@storige/canvas-core)
- 멀티 페이지 지원
- 실시간 자동 저장
- Undo/Redo 히스토리 관리
- 키보드 단축키 지원 (Ctrl+Z/Cmd+Z: 실행취소, Ctrl+Shift+Z/Cmd+Shift+Z: 다시실행)

## Test Scenarios

### 1. 캔버스 초기화 및 기본 동작

**Seed:** `e2e/editor.spec.ts`

#### 1.1. 에디터 페이지 로딩

**File:** `e2e/canvas-initialization/editor-loading.spec.ts`

**Steps:**
  1. http://localhost:3000 으로 이동
  2. 페이지 로딩 완료 대기 (networkidle)
  3. URL이 '/'인지 확인
  4. 캔버스 엘리먼트(canvas)가 표시되는지 확인 (최대 10초)
  5. 도구 모음(ToolBar)이 표시되는지 확인

**Expected Results:**
  - 페이지가 오류 없이 로드됨
  - 캔버스가 화면에 렌더링됨
  - 좌측에 도구 모음이 표시됨 (이미지, 텍스트, 요소 등)

#### 1.2. 반응형 레이아웃 테스트 - 데스크톱

**File:** `e2e/canvas-initialization/responsive-desktop.spec.ts`

**Steps:**
  1. 뷰포트를 1920x1080으로 설정
  2. 에디터 페이지로 이동
  3. 페이지 로딩 대기
  4. 캔버스가 표시되는지 확인
  5. 좌측 도구 모음이 세로 방향으로 표시되는지 확인
  6. 우측 제어 패널 영역 확인

**Expected Results:**
  - 데스크톱 레이아웃이 정상적으로 표시됨
  - 모든 UI 요소가 화면에 맞게 배치됨
  - 도구 모음과 제어 패널이 모두 보임

#### 1.3. 반응형 레이아웃 테스트 - 태블릿

**File:** `e2e/canvas-initialization/responsive-tablet.spec.ts`

**Steps:**
  1. 뷰포트를 768x1024로 설정
  2. 에디터 페이지로 이동
  3. 페이지 로딩 대기
  4. 캔버스가 표시되는지 확인
  5. 레이아웃이 태블릿에 맞게 조정되었는지 확인

**Expected Results:**
  - 태블릿 레이아웃이 정상적으로 표시됨
  - UI가 좁은 화면에 맞게 재배치됨
  - 모든 기능이 접근 가능함

#### 1.4. 반응형 레이아웃 테스트 - 모바일

**File:** `e2e/canvas-initialization/responsive-mobile.spec.ts`

**Steps:**
  1. 뷰포트를 375x667로 설정
  2. 에디터 페이지로 이동
  3. 페이지 로딩 대기
  4. 캔버스가 표시되는지 확인
  5. 레이아웃이 모바일에 맞게 조정되었는지 확인

**Expected Results:**
  - 모바일 레이아웃이 정상적으로 표시됨
  - UI가 작은 화면에 맞게 재배치됨
  - 주요 기능이 접근 가능함

#### 1.5. 쿼리 파라미터로 에디터 초기화

**File:** `e2e/canvas-initialization/query-parameters.spec.ts`

**Steps:**
  1. '/?productId=test-product&size=A4' URL로 이동
  2. 페이지 로딩 대기
  3. URL에 productId 파라미터가 포함되어 있는지 확인
  4. 에디터가 오류 없이 초기화되는지 확인
  5. 캔버스가 표시되는지 확인

**Expected Results:**
  - 쿼리 파라미터가 정상적으로 파싱됨
  - 제품 정보에 따라 에디터가 초기화됨
  - 에러가 발생하지 않음

### 2. 텍스트 추가 및 편집

**Seed:** `e2e/editor.spec.ts`

#### 2.1. 텍스트 객체 추가

**File:** `e2e/text-editing/add-text.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동하여 초기화 대기
  2. 좌측 도구 모음에서 '텍스트' 메뉴 클릭
  3. 사이드 패널이 열리는지 확인
  4. '텍스트 추가' 버튼 클릭
  5. 캔버스에 'TEXT'라는 기본 텍스트가 추가되는지 확인
  6. 추가된 텍스트가 선택된 상태인지 확인 (활성 선택)
  7. 우측에 제어 패널이 표시되는지 확인

**Expected Results:**
  - 텍스트 객체가 캔버스 중앙에 추가됨
  - 텍스트가 자동으로 선택됨
  - 텍스트 속성 제어 패널이 우측에 표시됨 (폰트, 크기, 색상 등)
  - 텍스트 주위에 선택 핸들이 표시됨

#### 2.2. 텍스트 내용 편집

**File:** `e2e/text-editing/edit-text-content.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 추가된 텍스트를 더블클릭하여 편집 모드 진입
  3. 텍스트를 전체 선택 (Ctrl+A 또는 트리플 클릭)
  4. '안녕하세요'를 입력
  5. 캔버스의 빈 영역 클릭하여 편집 모드 종료
  6. 텍스트 내용이 '안녕하세요'로 변경되었는지 확인

**Expected Results:**
  - 텍스트가 편집 모드로 전환됨 (커서 깜빡임)
  - 입력한 텍스트가 즉시 반영됨
  - 편집 모드를 종료해도 변경 사항이 유지됨

#### 2.3. 폰트 패밀리 변경

**File:** `e2e/text-editing/change-font-family.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 텍스트 객체를 선택하여 제어 패널 열기
  3. 제어 패널에서 '텍스트 속성' 섹션 찾기
  4. 폰트 패밀리 드롭다운 클릭
  5. 드롭다운에서 다른 폰트 선택 (예: 'Noto Sans KR'가 아닌 다른 폰트)
  6. 선택한 폰트가 텍스트에 적용되는지 확인

**Expected Results:**
  - 폰트 드롭다운이 사용 가능한 폰트 목록을 표시함
  - 선택한 폰트가 텍스트에 즉시 적용됨
  - 변경 사항이 히스토리에 기록됨 (undo 가능)

#### 2.4. 폰트 크기 조절

**File:** `e2e/text-editing/change-font-size.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 텍스트 객체를 선택
  3. 제어 패널에서 폰트 크기 입력 필드 찾기
  4. 현재 폰트 크기 값을 확인
  5. 새로운 크기 (예: 48) 입력
  6. Enter 키를 눌러 변경 사항 적용
  7. 텍스트 크기가 변경되었는지 시각적으로 확인

**Expected Results:**
  - 폰트 크기 입력 필드가 표시됨
  - 입력한 크기로 텍스트가 변경됨
  - 텍스트가 캔버스에서 크기에 맞게 렌더링됨

#### 2.5. 텍스트 색상 변경

**File:** `e2e/text-editing/change-text-color.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 텍스트 객체를 선택
  3. 제어 패널에서 '객체 색상' 또는 '텍스트 속성' 섹션 찾기
  4. 색상 피커 버튼 클릭
  5. 색상 피커 모달이 열리는지 확인
  6. 빨간색(#FF0000 또는 유사한 색) 선택
  7. 색상 적용 또는 모달 닫기
  8. 텍스트 색상이 빨간색으로 변경되었는지 확인

**Expected Results:**
  - 색상 피커 UI가 표시됨
  - 선택한 색상이 텍스트에 즉시 적용됨
  - 색상 변경이 히스토리에 기록됨

#### 2.6. 텍스트 정렬 변경 (왼쪽, 가운데, 오른쪽)

**File:** `e2e/text-editing/text-alignment.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 텍스트를 더블클릭하여 편집 모드로 진입
  3. 여러 줄의 텍스트 입력 (예: '첫 줄\n두 번째 줄\n세 번째 줄')
  4. 텍스트 선택 상태에서 제어 패널 확인
  5. 정렬 버튼 찾기 (왼쪽, 가운데, 오른쪽 정렬 아이콘)
  6. 가운데 정렬 버튼 클릭
  7. 텍스트가 가운데 정렬되는지 확인
  8. 오른쪽 정렬 버튼 클릭
  9. 텍스트가 오른쪽 정렬되는지 확인

**Expected Results:**
  - 정렬 버튼이 표시됨
  - 각 정렬 버튼 클릭 시 텍스트 정렬이 변경됨
  - 여러 줄의 텍스트가 선택한 정렬에 맞게 표시됨

#### 2.7. 텍스트 스타일 적용 (굵게, 밑줄)

**File:** `e2e/text-editing/text-style.spec.ts`

**Steps:**
  1. 에디터에서 텍스트 객체 추가
  2. 텍스트 객체를 선택
  3. 제어 패널에서 '굵게(Bold)' 버튼 찾기
  4. '굵게' 버튼 클릭
  5. 텍스트가 굵게 표시되는지 확인
  6. '밑줄(Underline)' 버튼 클릭
  7. 텍스트에 밑줄이 추가되는지 확인
  8. 버튼을 다시 클릭하여 스타일 해제
  9. 스타일이 제거되는지 확인

**Expected Results:**
  - 스타일 토글 버튼이 표시됨
  - 버튼 클릭 시 해당 스타일이 적용/해제됨
  - 여러 스타일을 동시에 적용할 수 있음

### 3. 이미지 추가 및 편집

**Seed:** `e2e/editor.spec.ts`

#### 3.1. 이미지 메뉴 열기

**File:** `e2e/image-editing/open-image-menu.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동하여 초기화 대기
  2. 좌측 도구 모음에서 '이미지' 메뉴 클릭
  3. 사이드 패널이 열리는지 확인
  4. '업로드' 버튼이 표시되는지 확인

**Expected Results:**
  - 이미지 사이드 패널이 열림
  - 이미지 업로드 버튼이 표시됨
  - 추천 콘텐츠 섹션이 표시됨 (콘텐츠가 있는 경우)

#### 3.2. 이미지 업로드 다이얼로그 열기

**File:** `e2e/image-editing/open-upload-dialog.spec.ts`

**Steps:**
  1. 에디터에서 이미지 메뉴 열기
  2. '업로드' 버튼 클릭
  3. 파일 선택 다이얼로그가 열리는지 확인 (또는 파일 입력 요소 활성화)
  4. 다이얼로그 취소 (ESC 또는 취소 버튼)

**Expected Results:**
  - 파일 업로드 인터페이스가 활성화됨
  - 이미지 파일 형식을 선택할 수 있음
  - 취소 시 정상적으로 다이얼로그가 닫힘

#### 3.3. 이미지 객체 선택 및 이동

**File:** `e2e/image-editing/select-and-move-image.spec.ts`

**Steps:**
  1. 에디터 초기화 (이미 이미지가 캔버스에 있다고 가정)
  2. 캔버스의 이미지 객체 클릭하여 선택
  3. 이미지 주위에 선택 핸들이 표시되는지 확인
  4. 이미지를 드래그하여 다른 위치로 이동
  5. 마우스 버튼을 놓음
  6. 이미지가 새 위치에 있는지 확인

**Expected Results:**
  - 이미지가 선택되고 핸들이 표시됨
  - 드래그 중 이미지가 마우스를 따라 이동함
  - 드롭 후 이미지가 새 위치에 고정됨
  - 이동이 히스토리에 기록됨

#### 3.4. 이미지 크기 조절

**File:** `e2e/image-editing/resize-image.spec.ts`

**Steps:**
  1. 캔버스에 이미지 객체가 있는 에디터로 이동
  2. 이미지를 선택
  3. 이미지 모서리의 크기 조절 핸들을 찾음
  4. 오른쪽 하단 핸들을 드래그하여 이미지를 크게 만듦
  5. 마우스 버튼을 놓음
  6. 이미지 크기가 변경되었는지 확인

**Expected Results:**
  - 크기 조절 핸들이 표시됨
  - 드래그 중 이미지 크기가 실시간으로 변경됨
  - 드롭 후 새 크기가 적용됨
  - 비율이 유지됨 (lockUniScaling 설정에 따라)

#### 3.5. 이미지 회전

**File:** `e2e/image-editing/rotate-image.spec.ts`

**Steps:**
  1. 캔버스에 이미지 객체가 있는 에디터로 이동
  2. 이미지를 선택
  3. 이미지 상단의 회전 핸들 찾기
  4. 회전 핸들을 드래그하여 이미지를 45도 정도 회전
  5. 마우스 버튼을 놓음
  6. 이미지가 회전된 각도로 표시되는지 확인

**Expected Results:**
  - 회전 핸들이 표시됨
  - 드래그 중 이미지가 회전함
  - 회전 각도가 적용됨
  - 회전이 히스토리에 기록됨

### 4. 도형 및 요소 추가

**Seed:** `e2e/editor.spec.ts`

#### 4.1. 요소(도형) 메뉴 열기

**File:** `e2e/shapes/open-shapes-menu.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동
  2. 좌측 도구 모음에서 '요소' 또는 'Shapes' 메뉴 클릭
  3. 사이드 패널이 열리는지 확인
  4. '업로드' 버튼이 표시되는지 확인

**Expected Results:**
  - 요소 사이드 패널이 열림
  - SVG 요소 업로드 옵션이 표시됨
  - 추천 도형 콘텐츠가 표시됨 (있는 경우)

#### 4.2. 도형 객체 선택 및 이동

**File:** `e2e/shapes/select-and-move-shape.spec.ts`

**Steps:**
  1. 에디터 초기화 (도형 객체가 캔버스에 있다고 가정)
  2. 캔버스의 도형 객체 클릭하여 선택
  3. 도형 주위에 선택 핸들이 표시되는지 확인
  4. 도형을 드래그하여 새 위치로 이동
  5. 마우스 버튼을 놓음
  6. 도형이 새 위치에 있는지 확인

**Expected Results:**
  - 도형이 선택되고 핸들이 표시됨
  - 드래그로 도형을 이동할 수 있음
  - 새 위치에 도형이 배치됨

#### 4.3. 도형 색상 변경

**File:** `e2e/shapes/change-shape-color.spec.ts`

**Steps:**
  1. 캔버스에 도형 객체가 있는 에디터로 이동
  2. 도형을 선택
  3. 우측 제어 패널에서 '객체 색상' 섹션 찾기
  4. 색상 피커 버튼 클릭
  5. 파란색(#0000FF) 선택
  6. 색상 적용
  7. 도형 색상이 파란색으로 변경되었는지 확인

**Expected Results:**
  - 색상 피커가 표시됨
  - 선택한 색상이 도형에 적용됨
  - 색상 변경이 즉시 반영됨

### 5. 객체 선택 및 관리

**Seed:** `e2e/editor.spec.ts`

#### 5.1. 단일 객체 선택

**File:** `e2e/object-management/select-single-object.spec.ts`

**Steps:**
  1. 여러 객체가 있는 캔버스로 이동
  2. 특정 텍스트 객체 클릭
  3. 객체가 선택되고 핸들이 표시되는지 확인
  4. 우측에 제어 패널이 열리는지 확인
  5. 제어 패널에 텍스트 속성이 표시되는지 확인

**Expected Results:**
  - 클릭한 객체만 선택됨
  - 선택 핸들과 바운딩 박스가 표시됨
  - 해당 객체 타입에 맞는 제어 패널이 표시됨

#### 5.2. 여러 객체 선택 (Shift + 클릭)

**File:** `e2e/object-management/select-multiple-objects.spec.ts`

**Steps:**
  1. 여러 객체가 있는 캔버스로 이동
  2. 첫 번째 객체 클릭하여 선택
  3. Shift 키를 누른 상태에서 두 번째 객체 클릭
  4. 두 객체가 모두 선택되었는지 확인
  5. Shift 키를 누른 상태에서 세 번째 객체 클릭
  6. 세 객체가 모두 선택되었는지 확인

**Expected Results:**
  - Shift + 클릭으로 여러 객체를 선택할 수 있음
  - 선택된 모든 객체 주위에 그룹 바운딩 박스가 표시됨
  - 제어 패널에 '여러 아이템' 또는 그룹 컨트롤이 표시됨

#### 5.3. 드래그 영역 선택

**File:** `e2e/object-management/drag-select-objects.spec.ts`

**Steps:**
  1. 여러 객체가 있는 캔버스로 이동
  2. 캔버스 빈 영역에서 마우스 버튼을 누름
  3. 마우스를 드래그하여 선택 영역 생성
  4. 선택 영역이 여러 객체를 포함하도록 드래그
  5. 마우스 버튼을 놓음
  6. 선택 영역 내의 객체들이 모두 선택되었는지 확인

**Expected Results:**
  - 드래그 중 선택 영역이 시각적으로 표시됨
  - 드롭 시 영역 내의 모든 객체가 선택됨
  - 선택된 객체들에 그룹 핸들이 표시됨

#### 5.4. 객체 삭제

**File:** `e2e/object-management/delete-object.spec.ts`

**Steps:**
  1. 캔버스에 객체가 있는 에디터로 이동
  2. 삭제할 객체 선택
  3. 우측 제어 패널에서 삭제 버튼(휴지통 아이콘) 찾기
  4. 삭제 버튼 클릭
  5. 객체가 캔버스에서 제거되었는지 확인
  6. 선택이 해제되었는지 확인

**Expected Results:**
  - 선택된 객체가 캔버스에서 제거됨
  - 삭제가 히스토리에 기록됨
  - Undo로 삭제를 취소할 수 있음

#### 5.5. 객체 잠금 (Lock)

**File:** `e2e/object-management/lock-object.spec.ts`

**Steps:**
  1. 캔버스에 객체가 있는 에디터로 이동
  2. 객체 선택
  3. 제어 패널에서 잠금 버튼 찾기 (자물쇠 아이콘)
  4. 잠금 버튼 클릭
  5. 잠금 상태 아이콘이 '잠김'으로 변경되는지 확인
  6. 객체를 드래그하려고 시도
  7. 객체가 이동되지 않는지 확인

**Expected Results:**
  - 객체가 잠금 상태로 변경됨
  - 잠긴 객체는 이동, 크기 조절 등이 불가능함
  - 잠금 해제 버튼을 클릭하면 다시 편집 가능해짐

#### 5.6. 객체 가시성 토글 (숨기기/보이기)

**File:** `e2e/object-management/toggle-visibility.spec.ts`

**Steps:**
  1. 캔버스에 객체가 있는 에디터로 이동
  2. 객체 선택
  3. 제어 패널에서 가시성 토글 버튼 찾기 (눈 아이콘)
  4. 가시성 버튼 클릭하여 객체 숨기기
  5. 객체가 캔버스에서 보이지 않는지 확인
  6. 가시성 버튼을 다시 클릭하여 객체 표시
  7. 객체가 다시 보이는지 확인

**Expected Results:**
  - 숨기기 클릭 시 객체가 화면에서 사라짐
  - 보이기 클릭 시 객체가 다시 나타남
  - 가시성 변경이 히스토리에 기록됨

#### 5.7. 객체 그룹화

**File:** `e2e/object-management/group-objects.spec.ts`

**Steps:**
  1. 여러 객체가 있는 캔버스로 이동
  2. Shift 클릭으로 2개 이상의 객체 선택
  3. 제어 패널에서 그룹화 버튼 찾기 (Link 아이콘)
  4. 그룹화 버튼 클릭
  5. 선택된 객체들이 하나의 그룹으로 묶이는지 확인
  6. 그룹을 드래그하여 모든 객체가 함께 이동하는지 확인

**Expected Results:**
  - 선택된 객체들이 그룹으로 묶임
  - 그룹은 단일 객체처럼 이동/크기 조절됨
  - 그룹화가 히스토리에 기록됨

#### 5.8. 객체 그룹 해제

**File:** `e2e/object-management/ungroup-objects.spec.ts`

**Steps:**
  1. 그룹화된 객체가 있는 캔버스로 이동
  2. 그룹 객체 선택
  3. 제어 패널에서 그룹 해제 버튼 찾기 (Unlink 아이콘)
  4. 그룹 해제 버튼 클릭
  5. 객체들이 개별 객체로 분리되는지 확인
  6. 각 객체를 개별적으로 선택할 수 있는지 확인

**Expected Results:**
  - 그룹이 해제되고 개별 객체로 분리됨
  - 각 객체를 독립적으로 편집할 수 있음
  - 그룹 해제가 히스토리에 기록됨

### 6. 실행취소 및 다시실행 (Undo/Redo)

**Seed:** `e2e/editor.spec.ts`

#### 6.1. 텍스트 추가 후 실행취소

**File:** `e2e/history/undo-text-addition.spec.ts`

**Steps:**
  1. 에디터 초기화
  2. 텍스트 객체 추가
  3. 텍스트가 캔버스에 표시되는지 확인
  4. Ctrl+Z (Mac: Cmd+Z) 키보드 단축키 입력
  5. 텍스트가 캔버스에서 제거되었는지 확인

**Expected Results:**
  - Undo 실행 시 마지막 작업이 취소됨
  - 추가한 텍스트가 사라짐
  - 캔버스가 이전 상태로 복원됨

#### 6.2. 다시실행 (Redo) 테스트

**File:** `e2e/history/redo-action.spec.ts`

**Steps:**
  1. 에디터 초기화
  2. 텍스트 객체 추가
  3. Ctrl+Z로 텍스트 추가 취소
  4. 텍스트가 사라진 것을 확인
  5. Ctrl+Shift+Z (Mac: Cmd+Shift+Z) 키보드 단축키 입력
  6. 텍스트가 다시 나타나는지 확인

**Expected Results:**
  - Redo 실행 시 취소한 작업이 다시 실행됨
  - 텍스트가 다시 캔버스에 나타남
  - Redo 전 상태로 복원됨

#### 6.3. 여러 작업 후 연속 실행취소

**File:** `e2e/history/multiple-undo.spec.ts`

**Steps:**
  1. 에디터 초기화
  2. 텍스트 객체 추가
  3. 텍스트를 선택하여 빨간색으로 색상 변경
  4. 텍스트를 이동
  5. 현재 상태 확인 (빨간색, 새 위치)
  6. Ctrl+Z를 3번 입력
  7. 각 Undo 후 상태 확인: 1) 원래 위치로 복원, 2) 검은색으로 복원, 3) 텍스트 제거

**Expected Results:**
  - 각 Undo가 작업 역순으로 취소됨
  - 히스토리 스택이 올바르게 관리됨
  - 모든 작업을 순차적으로 취소할 수 있음

#### 6.4. 객체 삭제 후 실행취소

**File:** `e2e/history/undo-deletion.spec.ts`

**Steps:**
  1. 에디터에 텍스트 객체 추가
  2. 텍스트 내용을 '테스트'로 변경
  3. 텍스트를 선택하고 삭제 버튼 클릭
  4. 텍스트가 제거된 것을 확인
  5. Ctrl+Z 입력
  6. 텍스트가 원래 내용과 위치로 복원되는지 확인

**Expected Results:**
  - 삭제된 객체가 Undo로 복원됨
  - 객체의 모든 속성이 삭제 전 상태로 복원됨
  - 히스토리가 정상적으로 작동함

#### 6.5. 속성 변경 후 실행취소

**File:** `e2e/history/undo-property-change.spec.ts`

**Steps:**
  1. 에디터에 텍스트 객체 추가
  2. 텍스트 선택
  3. 폰트 크기를 48로 변경
  4. 색상을 파란색으로 변경
  5. Ctrl+Z 입력 (색상 변경 취소)
  6. 색상이 원래대로 돌아갔는지 확인
  7. Ctrl+Z 입력 (폰트 크기 변경 취소)
  8. 폰트 크기가 원래대로 돌아갔는지 확인

**Expected Results:**
  - 속성 변경이 Undo로 취소됨
  - 각 속성 변경이 개별 히스토리 항목으로 기록됨
  - 순차적으로 취소 가능함

### 7. 저장 기능

**Seed:** `e2e/editor.spec.ts`

#### 7.1. 자동 저장 인디케이터 확인

**File:** `e2e/saving/auto-save-indicator.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동
  2. 상단 헤더에서 자동 저장 상태 인디케이터 찾기
  3. 텍스트 객체를 추가하여 변경 사항 생성
  4. 자동 저장 인디케이터가 '저장 중...' 상태를 표시하는지 확인
  5. 잠시 대기 (자동 저장 완료까지)
  6. 인디케이터가 '저장됨' 상태로 변경되는지 확인

**Expected Results:**
  - 자동 저장 인디케이터가 표시됨
  - 변경 시 저장 중 상태가 표시됨
  - 저장 완료 시 상태가 업데이트됨

#### 7.2. 수동 저장 버튼 클릭

**File:** `e2e/saving/manual-save.spec.ts`

**Steps:**
  1. 에디터에 작업 내용 생성 (텍스트 및 이미지 추가)
  2. 상단 헤더에서 저장 버튼 찾기 (Save 아이콘)
  3. 저장 버튼 클릭
  4. 저장 중 상태 표시 확인
  5. 저장 완료 메시지 또는 상태 확인
  6. 콘솔 또는 네트워크 탭에서 저장 API 호출 확인 (선택사항)

**Expected Results:**
  - 저장 버튼이 작동함
  - 저장 중 UI 피드백이 표시됨
  - 저장 완료 시 사용자에게 알림
  - 백엔드 API가 호출됨 (실제 환경)

#### 7.3. 편집 완료 버튼 테스트

**File:** `e2e/saving/finish-editing.spec.ts`

**Steps:**
  1. 에디터에서 작업 수행
  2. 상단 헤더에서 '편집완료' 또는 '완료' 버튼 찾기 (체크 아이콘)
  3. 버튼 클릭
  4. 확인 모달이 표시되는지 확인
  5. 모달에서 '확인' 또는 '편집 완료' 버튼 클릭
  6. 편집 완료 처리가 시작되는지 확인
  7. 완료 후 적절한 페이지로 리다이렉트되거나 메시지가 표시되는지 확인

**Expected Results:**
  - 편집 완료 확인 모달이 표시됨
  - 확인 시 편집 완료 처리가 실행됨
  - 작업이 최종 저장되고 워크플로우가 진행됨

#### 7.4. 저장 실패 시 에러 처리

**File:** `e2e/saving/save-error-handling.spec.ts`

**Steps:**
  1. 네트워크를 오프라인 모드로 설정 (개발자 도구 또는 Playwright context)
  2. 에디터에서 텍스트 추가
  3. 저장 버튼 클릭 또는 자동 저장 대기
  4. 저장 실패 메시지 또는 모달이 표시되는지 확인
  5. 네트워크를 다시 온라인으로 설정
  6. 재시도 옵션이 있다면 클릭하여 저장 재시도
  7. 저장이 성공하는지 확인

**Expected Results:**
  - 네트워크 오류 시 에러 메시지가 표시됨
  - 사용자에게 재시도 옵션이 제공됨
  - 네트워크 복구 후 저장이 정상적으로 수행됨

### 8. 배경 및 특수 기능

**Seed:** `e2e/editor.spec.ts`

#### 8.1. 배경 메뉴 열기

**File:** `e2e/background/open-background-menu.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동
  2. 좌측 도구 모음에서 '배경' 메뉴 클릭 (PaintBucket 아이콘)
  3. 사이드 패널이 열리는지 확인
  4. 배경 관련 옵션이 표시되는지 확인

**Expected Results:**
  - 배경 사이드 패널이 열림
  - 배경 색상 또는 이미지 설정 옵션이 표시됨

#### 8.2. 템플릿 메뉴 열기 (활성화된 경우)

**File:** `e2e/template/open-template-menu.spec.ts`

**Steps:**
  1. 에디터 페이지로 이동
  2. 좌측 도구 모음에서 '템플릿' 메뉴 찾기
  3. 템플릿 메뉴가 표시되면 클릭
  4. 템플릿 사이드 패널이 열리는지 확인

**Expected Results:**
  - 템플릿 메뉴가 활성화되어 있으면 사이드 패널이 열림
  - 사용 가능한 템플릿 목록이 표시됨

#### 8.3. 인쇄 미리보기 토글

**File:** `e2e/preview/toggle-print-preview.spec.ts`

**Steps:**
  1. 에디터에서 작업 수행 (텍스트, 이미지 추가)
  2. 상단 헤더에서 미리보기 버튼 찾기 (Monitor 아이콘)
  3. 미리보기 버튼 클릭
  4. 로딩 메시지 확인 ('미리보기 모드를 전환하는 중...')
  5. 캔버스가 인쇄 미리보기 모드로 전환되는지 확인
  6. 미리보기 버튼을 다시 클릭하여 일반 모드로 복귀
  7. 일반 편집 모드로 돌아왔는지 확인

**Expected Results:**
  - 미리보기 모드에서 인쇄 결과물을 확인할 수 있음
  - 일반 모드와 미리보기 모드를 토글할 수 있음
  - 모드 전환 시 적절한 로딩 피드백이 표시됨

### 9. 페이지 관리 (다중 페이지)

**Seed:** `e2e/editor.spec.ts`

#### 9.1. 페이지 패널 표시

**File:** `e2e/pages/page-panel-display.spec.ts`

**Steps:**
  1. 멀티 페이지를 지원하는 에디터로 이동 (pageCount 파라미터 사용)
  2. 페이지 패널이 표시되는지 확인
  3. 현재 페이지 섬네일이 표시되는지 확인
  4. 페이지 목록에서 현재 활성 페이지가 하이라이트되는지 확인

**Expected Results:**
  - 페이지 패널이 화면에 표시됨
  - 각 페이지의 섬네일이 표시됨
  - 현재 편집 중인 페이지가 시각적으로 구분됨

#### 9.2. 페이지 추가

**File:** `e2e/pages/add-page.spec.ts`

**Steps:**
  1. 멀티 페이지 에디터로 이동
  2. 페이지 패널에서 '페이지 추가' 버튼 찾기 (+ 버튼)
  3. 버튼 클릭
  4. 새 페이지가 페이지 목록에 추가되는지 확인
  5. 새 페이지로 자동 전환되는지 확인
  6. 새 페이지의 캔버스가 비어있는지 확인

**Expected Results:**
  - 새 페이지가 생성됨
  - 페이지 목록에 새 페이지가 추가됨
  - 에디터가 새 페이지로 전환됨

#### 9.3. 페이지 전환

**File:** `e2e/pages/switch-page.spec.ts`

**Steps:**
  1. 2개 이상의 페이지가 있는 에디터로 이동
  2. 첫 번째 페이지에 텍스트 추가
  3. 페이지 패널에서 두 번째 페이지 클릭
  4. 캔버스가 두 번째 페이지로 전환되는지 확인
  5. 두 번째 페이지에 이미지 추가
  6. 첫 번째 페이지로 다시 전환
  7. 첫 번째 페이지에 추가한 텍스트가 그대로 있는지 확인

**Expected Results:**
  - 페이지 클릭 시 해당 페이지로 전환됨
  - 각 페이지의 콘텐츠가 독립적으로 유지됨
  - 페이지 전환이 부드럽게 이루어짐

#### 9.4. 페이지 삭제

**File:** `e2e/pages/delete-page.spec.ts`

**Steps:**
  1. 3개 이상의 페이지가 있는 에디터로 이동
  2. 두 번째 페이지 선택
  3. 페이지 패널에서 삭제 버튼 찾기 (휴지통 아이콘)
  4. 삭제 버튼 클릭
  5. 삭제 확인 모달이 표시되는지 확인
  6. 모달에서 '삭제' 확인
  7. 페이지가 목록에서 제거되었는지 확인
  8. 남은 페이지 중 하나로 자동 전환되는지 확인

**Expected Results:**
  - 삭제 확인 모달이 표시됨
  - 확인 시 페이지가 삭제됨
  - 페이지 목록이 업데이트됨
  - 다른 페이지로 자동 전환됨

#### 9.5. 페이지 순서 변경 (드래그 앤 드롭)

**File:** `e2e/pages/reorder-pages.spec.ts`

**Steps:**
  1. 3개 이상의 페이지가 있는 에디터로 이동
  2. 페이지 패널에서 첫 번째 페이지를 드래그
  3. 세 번째 페이지 위치로 드롭
  4. 페이지 순서가 변경되었는지 확인
  5. 각 페이지의 콘텐츠가 그대로 유지되는지 확인

**Expected Results:**
  - 드래그 앤 드롭으로 페이지 순서를 변경할 수 있음
  - 순서 변경이 즉시 반영됨
  - 각 페이지의 내용은 유지됨

### 10. 키보드 단축키 및 사용성

**Seed:** `e2e/editor.spec.ts`

#### 10.1. Delete 키로 객체 삭제

**File:** `e2e/shortcuts/delete-key.spec.ts`

**Steps:**
  1. 에디터에 텍스트 객체 추가
  2. 텍스트 객체 선택
  3. Delete 키 또는 Backspace 키 입력
  4. 객체가 캔버스에서 제거되었는지 확인

**Expected Results:**
  - 선택된 객체가 Delete 키로 삭제됨
  - 삭제가 히스토리에 기록됨

#### 10.2. Ctrl+A (전체 선택)

**File:** `e2e/shortcuts/select-all.spec.ts`

**Steps:**
  1. 에디터에 여러 객체 추가 (텍스트, 이미지 등)
  2. 캔버스 빈 영역 클릭하여 선택 해제
  3. Ctrl+A (Mac: Cmd+A) 키 입력
  4. 모든 객체가 선택되었는지 확인 (그룹 바운딩 박스 표시)

**Expected Results:**
  - Ctrl+A로 캔버스의 모든 편집 가능한 객체가 선택됨
  - workspace, guideline 등 시스템 객체는 선택되지 않음

#### 10.3. ESC 키로 선택 해제

**File:** `e2e/shortcuts/deselect-esc.spec.ts`

**Steps:**
  1. 에디터에 객체 추가
  2. 객체 선택
  3. 선택된 상태 확인
  4. ESC 키 입력
  5. 선택이 해제되었는지 확인 (핸들 사라짐)

**Expected Results:**
  - ESC 키로 현재 선택이 해제됨
  - 캔버스가 선택 없는 상태로 전환됨

#### 10.4. 화살표 키로 객체 이동 (미세 조정)

**File:** `e2e/shortcuts/arrow-key-move.spec.ts`

**Steps:**
  1. 에디터에 텍스트 객체 추가
  2. 텍스트 객체 선택
  3. 객체의 초기 위치 확인
  4. 오른쪽 화살표 키를 5회 입력
  5. 객체가 오른쪽으로 이동했는지 확인
  6. 아래 화살표 키를 5회 입력
  7. 객체가 아래로 이동했는지 확인

**Expected Results:**
  - 화살표 키로 객체를 픽셀 단위로 이동할 수 있음
  - 각 키 입력마다 1픽셀씩 이동함
  - 이동이 히스토리에 기록됨

### 11. 에러 처리 및 엣지 케이스

**Seed:** `e2e/editor.spec.ts`

#### 11.1. 잘못된 쿼리 파라미터 처리

**File:** `e2e/error-handling/invalid-query-params.spec.ts`

**Steps:**
  1. '/?productId=invalid&contentId=999999' 같은 잘못된 파라미터로 이동
  2. 페이지가 크래시 없이 로드되는지 확인
  3. 에러 메시지가 표시되거나 기본 상태로 에디터가 열리는지 확인

**Expected Results:**
  - 잘못된 파라미터에도 에디터가 크래시하지 않음
  - 적절한 에러 메시지가 표시되거나 기본 에디터가 열림

#### 11.2. 존재하지 않는 라우트 리다이렉션

**File:** `e2e/error-handling/unknown-route-redirect.spec.ts`

**Steps:**
  1. '/unknown-page' 같은 존재하지 않는 경로로 이동
  2. 페이지가 자동으로 홈('/') 또는 에러 페이지로 리다이렉트되는지 확인
  3. 리다이렉트된 페이지가 정상적으로 표시되는지 확인

**Expected Results:**
  - 알 수 없는 경로는 홈으로 리다이렉트됨
  - 404 에러 페이지가 표시되거나 기본 페이지로 이동함

#### 11.3. 빈 캔버스에서 Undo 시도

**File:** `e2e/error-handling/undo-on-empty-canvas.spec.ts`

**Steps:**
  1. 새 에디터 페이지로 이동 (아무 작업 안 함)
  2. Ctrl+Z (Undo) 키 입력
  3. 에러가 발생하지 않는지 확인
  4. 캔버스 상태가 그대로인지 확인

**Expected Results:**
  - 히스토리가 비어있을 때 Undo가 조용히 무시됨
  - 에러나 크래시가 발생하지 않음

#### 11.4. 최대 Redo 시도

**File:** `e2e/error-handling/redo-at-max.spec.ts`

**Steps:**
  1. 에디터에서 작업 수행
  2. Ctrl+Z로 실행취소
  3. Ctrl+Shift+Z로 다시실행
  4. 추가로 Ctrl+Shift+Z를 여러 번 입력 (더 이상 Redo할 것이 없음)
  5. 에러가 발생하지 않는지 확인

**Expected Results:**
  - Redo 스택이 비어있을 때 Redo가 조용히 무시됨
  - 에러가 발생하지 않음

#### 11.5. 객체 없이 삭제 버튼 클릭

**File:** `e2e/error-handling/delete-without-selection.spec.ts`

**Steps:**
  1. 에디터로 이동
  2. 아무 객체도 선택하지 않은 상태 확인
  3. 제어 패널이 표시되지 않는지 확인
  4. Delete 키 입력
  5. 에러가 발생하지 않는지 확인

**Expected Results:**
  - 선택된 객체가 없을 때 삭제 명령이 무시됨
  - 에러나 경고 없이 안전하게 처리됨
